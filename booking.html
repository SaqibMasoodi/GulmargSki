<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Adventure | Wolf Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    borderRadius: { '4xl': '3rem', '5xl': '4rem' },
                    colors: {
                        wolf: {
                            black: '#0a0a0a',
                            dark: '#171717',
                            gray: '#262626',
                            light: '#f5f5f5',
                            white: '#ffffff',
                            accent: '#3b82f6'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Scrollbar to match Index */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #404040; border-radius: 4px; }
        
        /* Custom Checkbox/Radio Styling */
        .wolf-radio:checked + div {
            border-color: white;
            background-color: #262626;
        }
        .wolf-radio:checked + div .radio-circle {
            background-color: white;
            border-color: white;
        }
        
        /* Transition for sections */
        .fade-enter {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .fade-enter-active {
            opacity: 1;
            transform: translateY(0);
        }
        .hidden-section {
            display: none;
        }
    </style>
</head>
<body class="bg-wolf-black text-wolf-light antialiased selection:bg-white selection:text-wolf-black">

    <nav class="fixed top-6 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-6xl bg-wolf-black/90 backdrop-blur-md border border-white/10 rounded-full px-6 py-4 flex justify-between items-center shadow-2xl">
        <a href="index.html" class="text-xl font-bold tracking-tighter text-white mr-4">WOLF<span class="text-gray-400">.ADV</span></a>
        <a href="index.html" class="flex items-center gap-2 text-sm font-bold text-gray-400 hover:text-white transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Back to Home
        </a>
    </nav>

    <div class="pt-32 pb-12 px-4 max-w-7xl mx-auto">
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-4">BUILD YOUR TRIP</h1>
            <p class="text-gray-400">Customize your experience or choose a curated package.</p>
        </div>

        <form id="bookingForm" action="submit_lead.php" method="POST" class="grid grid-cols-1 lg:grid-cols-3 gap-8 relative">
            
            <div class="lg:col-span-2 space-y-8">

                <div class="bg-wolf-dark border border-white/5 rounded-3xl p-2 flex relative">
                    <div id="switch-highlight" class="absolute top-2 left-2 bottom-2 w-[calc(50%-8px)] bg-wolf-gray border border-white/10 rounded-2xl transition-all duration-300"></div>
                    
                    <button type="button" onclick="setMode('package')" class="flex-1 relative z-10 py-3 text-center font-bold text-sm text-white transition-colors" id="btn-package">
                        Curated Packages
                    </button>
                    <button type="button" onclick="setMode('custom')" class="flex-1 relative z-10 py-3 text-center font-bold text-sm text-gray-400 transition-colors" id="btn-custom">
                        Custom Builder
                    </button>
                    
                    <input type="hidden" name="booking_mode" id="input-mode" value="package">
                </div>

                <div class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8">
                    <h3 class="text-xl font-bold text-white mb-6">Trip Basics</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-gray-400 uppercase mb-2">Arrival Date</label>
                            <input type="date" name="arrival_date" class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-400 uppercase mb-2">Total Guests</label>
                            <select name="guest_count" onchange="updateCalculations()" class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors appearance-none cursor-pointer">
                                <option value="1">1 Person</option>
                                <option value="2">2 People</option>
                                <option value="3">3 People</option>
                                <option value="4">4 People</option>
                                <option value="5">5+ Group</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="section-package" class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8 fade-enter-active">
                    <h3 class="text-xl font-bold text-white mb-6">Select Package</h3>
                    <div class="relative">
                        <select id="package-select" name="package_tier" onchange="updateCalculations()" class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-4 text-white font-bold text-lg focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors appearance-none cursor-pointer">
                            <option value="basic" data-price="22999">Basic (‚Çπ22,999/pp)</option>
                            <option value="silver" data-price="26999" selected>Silver (‚Çπ26,999/pp)</option>
                            <option value="gold" data-price="34999">Gold (‚Çπ34,999/pp)</option>
                            <option value="diamond" data-price="44999">Diamond (‚Çπ44,999/pp)</option>
                            <option value="platinum" data-price="64999">Platinum (‚Çπ64,999/pp)</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                    </div>
                    <p class="text-sm text-gray-400 mt-4" id="package-desc">Includes: Hotel Stay, Gear Rental, Instructor, Breakfast & Dinner.</p>
                </div>

                <div id="section-custom" class="space-y-6 hidden-section fade-enter">
                    
                    <div class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8">
                        <h3 class="text-xl font-bold text-white mb-6">Accommodation</h3>
                        <div class="grid gap-4">
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_hotel" value="none" class="wolf-radio hidden" onchange="updateCalculations()">
                                <div class="border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:bg-wolf-gray transition-colors">
                                    <span class="text-gray-300 font-medium">No Hotel Needed</span>
                                    <div class="radio-circle w-5 h-5 rounded-full border border-gray-500"></div>
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_hotel" value="3star" class="wolf-radio hidden" onchange="updateCalculations()" checked>
                                <div class="border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:bg-wolf-gray transition-colors">
                                    <span class="text-white font-medium">3-Star Lodge (‚Çπ3,000/night)</span>
                                    <div class="radio-circle w-5 h-5 rounded-full border border-gray-500"></div>
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_hotel" value="4star" class="wolf-radio hidden" onchange="updateCalculations()">
                                <div class="border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:bg-wolf-gray transition-colors">
                                    <span class="text-white font-medium">4-Star Hotel (‚Çπ6,000/night)</span>
                                    <div class="radio-circle w-5 h-5 rounded-full border border-gray-500"></div>
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_hotel" value="5star" class="wolf-radio hidden" onchange="updateCalculations()">
                                <div class="border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:bg-wolf-gray transition-colors">
                                    <span class="text-white font-medium">5-Star Luxury (‚Çπ15,000/night)</span>
                                    <div class="radio-circle w-5 h-5 rounded-full border border-gray-500"></div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-white">Transport</h3>
                            <div class="flex items-center gap-3">
                                <span class="text-xs font-bold text-gray-400 uppercase">Airport Pickup?</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="transport-toggle" class="sr-only peer" onchange="toggleTransportOptions()">
                                    <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                        </div>
                        
                        <div id="transport-options" class="hidden grid-cols-2 gap-4">
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_transport" value="innova" class="wolf-radio hidden" onchange="updateCalculations()" checked>
                                <div class="border border-white/10 rounded-2xl p-4 text-center hover:bg-wolf-gray transition-colors">
                                    <div class="text-white font-bold mb-1">Toyota Innova</div>
                                    <div class="text-xs text-gray-400">‚Çπ3,000 / trip</div>
                                    <div class="radio-circle w-4 h-4 rounded-full border border-gray-500 mx-auto mt-3"></div>
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="custom_transport" value="tempo" class="wolf-radio hidden" onchange="updateCalculations()">
                                <div class="border border-white/10 rounded-2xl p-4 text-center hover:bg-wolf-gray transition-colors">
                                    <div class="text-white font-bold mb-1">Tempo Traveller</div>
                                    <div class="text-xs text-gray-400">‚Çπ5,000 / trip</div>
                                    <div class="radio-circle w-4 h-4 rounded-full border border-gray-500 mx-auto mt-3"></div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8">
                        <h3 class="text-xl font-bold text-white mb-6">Equipment & Guide</h3>
                        <div class="space-y-6">
                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase mb-3">Ski/Snowboard Gear</label>
                                <div class="grid grid-cols-3 gap-3">
                                    <label class="cursor-pointer">
                                        <input type="radio" name="custom_gear" value="none" class="wolf-radio hidden" onchange="updateCalculations()">
                                        <div class="border border-white/10 rounded-xl p-3 text-center text-sm text-gray-300 hover:bg-wolf-gray transition-colors">Own Gear</div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="custom_gear" value="standard" class="wolf-radio hidden" onchange="updateCalculations()" checked>
                                        <div class="border border-white/10 rounded-xl p-3 text-center text-sm text-white font-bold hover:bg-wolf-gray transition-colors">Standard (‚Çπ800/day)</div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="custom_gear" value="pro" class="wolf-radio hidden" onchange="updateCalculations()">
                                        <div class="border border-white/10 rounded-xl p-3 text-center text-sm text-white font-bold hover:bg-wolf-gray transition-colors">Pro (‚Çπ1500/day)</div>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase mb-3">Add-ons</label>
                                <div class="space-y-3">
                                    <label class="flex items-center p-3 border border-white/10 rounded-xl hover:bg-wolf-gray transition-colors cursor-pointer">
                                        <input type="checkbox" name="extra_gondola" class="w-5 h-5 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-600 focus:ring-offset-gray-800" onchange="updateCalculations()">
                                        <span class="ml-3 text-sm text-white flex-1">Gondola Tickets (Phase 1)</span>
                                        <span class="text-xs text-gray-400">‚Çπ1,100</span>
                                    </label>
                                    <label class="flex items-center p-3 border border-white/10 rounded-xl hover:bg-wolf-gray transition-colors cursor-pointer">
                                        <input type="checkbox" name="extra_atv" class="w-5 h-5 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-600 focus:ring-offset-gray-800" onchange="updateCalculations()">
                                        <span class="ml-3 text-sm text-white flex-1">ATV Ride (1 Hour)</span>
                                        <span class="text-xs text-gray-400">‚Çπ2,500</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-wolf-dark border border-white/5 rounded-[2.5rem] p-8">
                    <h3 class="text-xl font-bold text-white mb-6">Contact Info</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-gray-400 uppercase mb-2">Full Name</label>
                            <input type="text" id="contact_name" name="name" placeholder="John Doe" class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors" required>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-400 uppercase mb-2">Phone / WhatsApp</label>
                            <input type="tel" id="contact_phone" name="phone" placeholder="+91 ..." class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors" required>
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-xs font-bold text-gray-400 uppercase mb-2">Special Requests</label>
                            <textarea id="contact_notes" name="notes" rows="3" class="w-full bg-wolf-gray border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors"></textarea>
                        </div>
                    </div>
                </div>

            </div>

            <div class="lg:col-span-1">
                <div class="sticky top-24 bg-wolf-gray/50 backdrop-blur-md border border-white/10 rounded-[2.5rem] p-8 shadow-2xl">
                    <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                        Your Estimate
                    </h3>
                    
                    <div id="receipt-items" class="space-y-3 mb-8 text-sm border-b border-white/10 pb-6">
                        <div class="flex justify-between text-gray-300">
                            <span>Loading...</span>
                            <span>...</span>
                        </div>
                    </div>

                    <div class="flex justify-between items-end mb-8">
                        <span class="text-gray-400 font-bold uppercase text-xs">Estimated Total</span>
                        <span id="total-price-display" class="text-3xl font-extrabold text-white">‚Çπ0</span>
                    </div>

                    <button type="submit" onclick="handleHybridSubmit(event)" class="w-full bg-white text-wolf-black font-bold text-lg py-4 rounded-2xl hover:bg-gray-200 transition-transform hover:scale-[1.02] active:scale-95 shadow-lg flex items-center justify-center gap-2 mb-3">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                        Request via WhatsApp
                    </button>
                    <p class="text-[10px] text-gray-400 text-center leading-tight">
                        We'll confirm availability instantly.<br>No payment required yet.
                    </p>
                </div>
            </div>

        </form>
    </div>

    <script>
        // --- 1. CONFIGURATION ---
        const RATES = {
            hotel: { none: 0, '3star': 3000, '4star': 6000, '5star': 15000 },
            transport: { innova: 3000, tempo: 5000 },
            gear: { none: 0, standard: 800, pro: 1500 },
            extra: { gondola: 1100, atv: 2500 }
        };

        const PACKAGES = {
            basic: { name: 'Basic Package', price: 22999 },
            silver: { name: 'Silver Package', price: 26999 },
            gold: { name: 'Gold Package', price: 34999 },
            diamond: { name: 'Diamond Package', price: 44999 },
            platinum: { name: 'Platinum Package', price: 64999 }
        };

        let currentMode = 'package'; // 'package' or 'custom'

        // --- 2. MODE TOGGLING ---
        function setMode(mode) {
            currentMode = mode;
            document.getElementById('input-mode').value = mode;

            // Visual Switcher Styling
            const highlighter = document.getElementById('switch-highlight');
            const btnPackage = document.getElementById('btn-package');
            const btnCustom = document.getElementById('btn-custom');

            if (mode === 'package') {
                highlighter.style.transform = 'translateX(0)';
                btnPackage.classList.replace('text-gray-400', 'text-white');
                btnCustom.classList.replace('text-white', 'text-gray-400');
                
                // Show/Hide Sections
                document.getElementById('section-package').classList.remove('hidden-section');
                document.getElementById('section-custom').classList.add('hidden-section');
            } else {
                highlighter.style.transform = 'translateX(100%)';
                highlighter.style.left = '6px'; // minor visual adjustment
                btnPackage.classList.replace('text-white', 'text-gray-400');
                btnCustom.classList.replace('text-gray-400', 'text-white');

                // Show/Hide Sections
                document.getElementById('section-package').classList.add('hidden-section');
                document.getElementById('section-custom').classList.remove('hidden-section');
            }
            updateCalculations();
        }

        function toggleTransportOptions() {
            const isChecked = document.getElementById('transport-toggle').checked;
            const options = document.getElementById('transport-options');
            if (isChecked) {
                options.classList.replace('hidden', 'grid');
            } else {
                options.classList.replace('grid', 'hidden');
            }
            updateCalculations();
        }

        // --- 3. CALCULATIONS & SUMMARY ---
        function updateCalculations() {
            const guests = parseInt(document.querySelector('select[name="guest_count"]').value) || 1;
            const receiptDiv = document.getElementById('receipt-items');
            let total = 0;
            let html = '';

            if (currentMode === 'package') {
                const pkgKey = document.getElementById('package-select').value;
                const pkg = PACKAGES[pkgKey];
                total = pkg.price * guests;

                html += `<div class="flex justify-between text-white font-medium mb-2"><span>${pkg.name}</span><span>‚Çπ${pkg.price.toLocaleString()} x ${guests}</span></div>`;
                html += `<div class="text-xs text-gray-500 pl-2">Includes: Hotel, Gear, Guide, Meals</div>`;
            
            } else {
                // Custom Mode Logic
                // 1. Hotel (Rate per night * assume 5 nights for demo or just flat rate for estimate)
                // For simplicity in this demo, let's treat rates as Per Person estimates or Trip Flat rates
                
                // Hotel
                const hotelType = document.querySelector('input[name="custom_hotel"]:checked').value;
                const hotelPrice = RATES.hotel[hotelType] * 5; // Assuming 5 nights avg
                if(hotelPrice > 0) {
                    total += (hotelPrice * guests) / 2; // Assuming double occupancy roughly
                    html += `<div class="flex justify-between text-gray-300"><span>Accommodation (Est.)</span><span>‚Çπ${((hotelPrice * guests)/2).toLocaleString()}</span></div>`;
                }

                // Transport
                const transportCheck = document.getElementById('transport-toggle').checked;
                if (transportCheck) {
                    const transType = document.querySelector('input[name="custom_transport"]:checked').value;
                    const transPrice = RATES.transport[transType] * 2; // Airport Pickup & Drop
                    total += transPrice;
                    html += `<div class="flex justify-between text-gray-300"><span>Transport (Round Trip)</span><span>‚Çπ${transPrice.toLocaleString()}</span></div>`;
                }

                // Gear
                const gearType = document.querySelector('input[name="custom_gear"]:checked').value;
                const gearPrice = RATES.gear[gearType] * 6; // 6 Days
                if (gearPrice > 0) {
                    total += gearPrice * guests;
                    html += `<div class="flex justify-between text-gray-300"><span>Gear Rental (${gearType})</span><span>‚Çπ${(gearPrice * guests).toLocaleString()}</span></div>`;
                }

                // Extras
                if (document.querySelector('input[name="extra_gondola"]').checked) {
                    total += RATES.extra.gondola * guests;
                    html += `<div class="flex justify-between text-gray-300"><span>Gondola Tkts</span><span>‚Çπ${(RATES.extra.gondola * guests).toLocaleString()}</span></div>`;
                }
                if (document.querySelector('input[name="extra_atv"]').checked) {
                    total += RATES.extra.atv * guests;
                    html += `<div class="flex justify-between text-gray-300"><span>ATV Ride</span><span>‚Çπ${(RATES.extra.atv * guests).toLocaleString()}</span></div>`;
                }
            }

            receiptDiv.innerHTML = html;
            document.getElementById('total-price-display').innerText = '‚Çπ' + total.toLocaleString();
        }

        // --- 4. SUBMISSION LOGIC ---
        function handleHybridSubmit(e) {
            e.preventDefault(); // Stop standard POST for a moment

            const form = document.getElementById('bookingForm');
            const formData = new FormData(form);
            const name = document.getElementById('contact_name').value;
            if(!name) { alert("Please enter your name"); return; }

            // Build WhatsApp Message
            let msg = `*New Booking Request from Wolf Adventure*\n\n`;
            msg += `üë§ Name: ${formData.get('name')}\n`;
            msg += `üìÖ Date: ${formData.get('arrival_date') || 'TBD'}\n`;
            msg += `üë• Guests: ${formData.get('guest_count')}\n\n`;

            if (currentMode === 'package') {
                const pkg = PACKAGES[formData.get('package_tier')];
                msg += `üì¶ *Selection: ${pkg.name}*\n`;
                msg += `üí∞ Est. Total: ${document.getElementById('total-price-display').innerText}\n`;
            } else {
                msg += `üõ† *Custom Build Selection:*\n`;
                msg += `- Hotel: ${formData.get('custom_hotel')}\n`;
                if(document.getElementById('transport-toggle').checked) {
                     msg += `- Transport: ${formData.get('custom_transport')}\n`;
                }
                msg += `- Gear: ${formData.get('custom_gear')}\n`;
                if(formData.get('extra_gondola')) msg += `- Addon: Gondola\n`;
                if(formData.get('extra_atv')) msg += `- Addon: ATV\n`;
                msg += `\nüí∞ Est. Total: ${document.getElementById('total-price-display').innerText}\n`;
            }

            if(formData.get('notes')) {
                msg += `\nüìù Note: ${formData.get('notes')}`;
            }

            // 1. Submit to Backend (Optional/Silent)
            // form.submit(); // Uncomment this if PHP backend is actually ready
            console.log("Form data prepared for backend...");

            // 2. Open WhatsApp
            const waUrl = `https://wa.me/919906123456?text=${encodeURIComponent(msg)}`;
            window.open(waUrl, '_blank');
        }

        // Initialize
        updateCalculations();
    </script>
</body>
</html>